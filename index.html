<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dashboards Tree</title>
<style>
  /* Ensure UA widgets/icons don't get auto-darkened */
  :root { color-scheme: light dark; }

  /* --------- Design tokens --------- */
  :root{
    --radius: 12px;
    --gap: 8px;
    --ring: 2px;
    --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;

    /* Light */
    --bg: #f7f7fb;
    --panel: #ffffff;
    --text: #1f2328;
    --muted: #6b7280;
    --muted-2: #9aa1ab;
    --line: #e7e7ef;
    --hover: #f4f5f8;
    --btn: #f6f7fa;
    --btn-border: #e2e5ea;
    --accent: #2563eb;
    --accent-soft: rgba(37, 99, 235, .08);
    --hit: rgba(37,99,235,.12);
    --shadow: 0 1px 2px rgba(0,0,0,.06), 0 8px 24px rgba(0,0,0,.06);

    /* Icon-specific (light) */
    --icon: #3f4b5f;
    --icon-muted: #6b7280;
  }
  @media (prefers-color-scheme: dark){
    :root{
      --bg: #0b0d12;
      --panel: #0f131a;
      --text: #e5e7eb;
      --muted: #9aa3ad;
      --muted-2: #7e8896;
      --line: #1e2430;
      --hover: #151b24;
      --btn: #10151d;
      --btn-border: #1e2633;
      --accent: #60a5fa;
      --accent-soft: rgba(96,165,250,.12);
      --hit: rgba(96,165,250,.18);
      --shadow: 0 1px 2px rgba(0,0,0,.35), 0 8px 24px rgba(0,0,0,.35);

      /* Icon-specific (dark) */
      --icon: #d8dee9;
      --icon-muted: #aeb6c2;
    }
  }

  /* --------- Global --------- */
  html,body{ height:100%; }
  body{
    margin:0;
    padding: 24px;
    background: radial-gradient(1200px 500px at 10% -10%, var(--accent-soft), transparent 40%) no-repeat, var(--bg);
    color: var(--text);
    font-family: var(--font);
    -webkit-font-smoothing: antialiased;
    line-height: 1.35;
  }

  .app{
    max-width: 980px;
    margin: 0 auto;
  }

  .panel{
    background: var(--panel);
    border: 1px solid var(--line);
    border-radius: 16px;
    box-shadow: var(--shadow);
    overflow: clip;
  }

  /* --------- Header / Controls --------- */
  header{
    position: sticky;
    top: 0;
    z-index: 10;
    backdrop-filter: saturate(140%) blur(6px);
    background: color-mix(in hsl, var(--bg), transparent 40%);
    padding: 6px 0 14px;
  }

  .toolbar{
    display:flex; flex-wrap:wrap; align-items:center; gap: 10px;
  }

  .title{
    font-weight: 700;
    font-size: 18px;
    margin-right: auto;
    letter-spacing: .2px;
  }

  input[type="search"]{
    appearance: none;
    padding: 10px 12px;
    border-radius: 999px;
    border: 1px solid var(--btn-border);
    background: var(--panel);
    min-width: 280px;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
    color: var(--text);
  }
  input[type="search"]::placeholder{ color: var(--muted-2); }
  input[type="search"]:focus-visible{
    outline: none;
    box-shadow: 0 0 0 var(--ring) var(--accent-soft);
    border-color: color-mix(in srgb, var(--accent) 40%, var(--btn-border));
  }

  .btn{
    padding: 9px 12px;
    border-radius: 10px;
    border: 1px solid var(--btn-border);
    background: var(--btn);
    color: var(--text);
    cursor: pointer;
    line-height: 1;
    display:inline-flex; align-items:center; gap:8px;
    transition: background .15s ease, transform .04s ease;
  }
  .btn:hover{ background: var(--hover); }
  .btn:active{ transform: translateY(1px); }
  .btn:focus-visible{ outline: none; box-shadow: 0 0 0 var(--ring) var(--accent-soft); }

  .count{
    color: var(--muted);
    font-size: 12px;
    padding: 4px 8px;
    border-radius: 999px;
    border: 1px solid var(--line);
    background: linear-gradient(to bottom, transparent, rgba(0,0,0,.02));
  }

  /* --------- Tree --------- */
  .tree{
    list-style: none;
    padding: 6px 8px 16px;
    margin: 0;
  }
  .node{ margin: 4px 0; }

  .row{
    display:flex; align-items:center; gap: 8px;
    padding: 6px 8px;
    border-radius: 10px;
    transition: background .12s ease, outline-color .12s ease;
  }
  .row:hover{ background: var(--hover); }
  .row.hit{ background: var(--hit); }

  .toggle{
    width: 1.6em; height: 1.6em;
    display: inline-grid; place-items:center;
    font-weight: 900;               /* slightly bolder for legibility */
    font-size: 1rem;                /* clearer chevrons */
    color: var(--icon);             /* explicit icon color */
    border: 1px solid var(--btn-border);
    border-radius: 8px;
    background: var(--panel);
    cursor: pointer;
    line-height: 1;
  }
  .toggle:hover{ background: var(--hover); }
  .toggle.leaf { visibility: hidden; }

  .label{
    display:inline-flex; align-items:center; gap:8px;
    text-decoration: none;
    color: var(--text);
    font-size: 14px;
    font-weight: 500;
  }
  .label:hover{ text-decoration: underline; text-underline-offset: 3px; }
  .label[target="_blank"]::after{
    content: "↗";
    font-size: 12px;
    color: var(--icon-muted);  /* was var(--muted); ensure contrast */
    margin-left: 2px;
  }

  .badge{
    margin-left: 4px;
    font-size: 11px;
    color: var(--muted);
    padding: 2px 6px;
    border-radius: 999px;
    border: 1px solid var(--line);
    background: linear-gradient(to bottom, transparent, rgba(0,0,0,.02));
  }

  .children{
    margin-left: 22px;
    padding-left: 12px;
    border-left: 1px dashed var(--line);

    /* micro-animation (non-blocking) */
    opacity: 0;
    transform: translateY(-2px);
    transition: opacity .14s ease, transform .14s ease;
  }
  .children.open{
    opacity: 1;
    transform: translateY(0);
  }

  .hidden{ display: none !important; }

  /* Accessibility */
  .row:focus-within{
    outline: var(--ring) solid transparent;
    box-shadow: 0 0 0 var(--ring) var(--accent-soft);
  }
  .toggle:focus-visible{ outline: none; box-shadow: 0 0 0 var(--ring) var(--accent-soft); }
  .label:focus-visible{ outline: none; box-shadow: 0 0 0 var(--ring) var(--accent-soft); border-radius: 8px; }

  /* Container card for the tree */
  .shell{
    margin-top: 14px;
  }

  /* Dark-mode: give toggle border a touch more presence so icons don't sink */
  @media (prefers-color-scheme: dark){
    .toggle{ border-color: color-mix(in srgb, var(--btn-border) 80%, var(--text)); }
  }

  /* Higher contrast users */
  @media (prefers-contrast: more){
    .toggle{ box-shadow: 0 0 0 2px var(--accent-soft) inset; }
    .label[target="_blank"]::after{ font-weight: 700; }
  }

  /* Windows High Contrast / forced colors */
  @media (forced-colors: active){
    .toggle{
      forced-color-adjust: none;
      color: ButtonText;
      border-color: ButtonText;
      background: Canvas;
    }
    .label[target="_blank"]::after{
      forced-color-adjust: none;
      color: ButtonText;
    }
  }
</style>
</head>
<body>
  <div class="app">
    <header>
      <div class="toolbar panel" style="padding:12px; gap:12px;">
        <div class="title">Dashboards</div>
        <input id="q" type="search" placeholder="Filter dashboards… (title)" aria-label="Filter dashboards" />
        <button id="expand" type="button" class="btn" title="Expand all">Expand all</button>
        <button id="collapse" type="button" class="btn" title="Collapse all">Collapse all</button>
        <span class="count" id="count" aria-live="polite"></span>
      </div>
    </header>
  
    <div class="shell panel">
      <ul id="tree" class="tree" role="tree" aria-label="Dashboards tree"></ul>
    </div>
  </div>
  
  <script>
  /*** DATA (only the branches/links you specified) ***/
  const data = [
    {
      id: "oct-2025",
      title: "October Events",
      url: "https://app-na2.hubspot.com/reports-dashboard/23947290/view/137281602?appliedIlsFilters=JTdCJTIyMTM3MjgxNjAyJTIyJTNBJTdCJTIyMC0zJTIyJTNBJTdCJTIyZmlsdGVycyUyMiUzQSU1QiU3QiUyMnByb3BlcnR5TmFtZSUyMiUzQSUyMnN1Yl9sZWFkX3NvdXJjZSUyMiUyQyUyMnByb3BlcnR5VHlwZSUyMiUzQSUyMmVudW1lcmF0aW9uJTIyJTJDJTIyb3BlcmF0b3IlMjIlM0ElMjJJU19BTllfT0YlMjIlMkMlMjJ2YWx1ZSUyMiUzQSU3QiUyMnByb3BlcnR5VHlwZSUyMiUzQSUyMmVudW1lcmF0aW9uJTIyJTJDJTIyb3BlcmF0b3IlMjIlM0ElMjJJU19BTllfT0YlMjIlMkMlMjJ2YWx1ZXMlMjIlM0ElNUIlMjIyMDI1JTIwLSUyMFRoZSUyMFdlYWx0aHklMjBQbHVtYmVyJTIwSG9vcmFoJTIyJTJDJTIyMjAyNSUyMC0lMjBTeXN0ZW0lMjBGb3J3YXJkJTIyJTJDJTIyMjAyNSUyMC0lMjBMZW5ub3glMjBMaXZlJTIwUm9hZHNob3clMjIlMkMlMjIyMDI1JTIwLSUyMEdhcmFnZSUyMERvb3IlMjBGcmVlZG9tJTIwVmVydGljYWwlMjBUcmFjayUyMiUyQyUyMjIwMjUlMjAtJTIwTGVnYWN5JTIwQW5udWFsJTIwT2Zmc2l0ZSUyMiUyQyUyMjIwMjUlMjAtJTIwSG9tZSUyMGFuZCUyMENvbW1lcmNpYWwlMjBTZXJ2aWNlcyUyME1hcmtldGluZyUyMFN1bW1pdCUyMiUyQyUyMjIwMjUlMjAtJTIwTnV2ZSUyME5ldHdvcmtzJTIwVG91ciUyMiUyQyUyMjIwMjUlMjAtJTIwQ2xvdmVyJTIwTWFzdGVybWluZCUyMiUyQyUyMjIwMjUlMjAtJTIwWm9vbSUyMERyYWluJTIwRXhwbyUyMiUyQyUyMjIwMjUlMjAtJTIwU2VydmljZSUyMFdvcmxkJTIyJTJDJTIyMjAyNSUyMC0lMjBOZXR3b3JrJTIwU1QlMjBFdmVudCUyMiU1RCU3RCU3RCU1RCUyQyUyMmRhdGFTb3VyY2VOYW1lJTIyJTNBJTIyREVBTCUyMiU3RCU3RCU3RA%3D%3D",
      children: [
        {
          id: "oct-system-forward-pro-boot-camp",
          title: "System Forward Pro Boot Camp",
          url: "https://app-na2.hubspot.com/reports-dashboard/23947290/view/137261328?appliedIlsFilters=JTdCJTIyMTM3MjYxMzI4JTIyJTNBJTdCJTIyMC0zJTIyJTNBJTdCJTIyZmlsdGVycyUyMiUzQSU1QiU3QiUyMnByb3BlcnR5TmFtZSUyMiUzQSUyMnN1Yl9sZWFkX3NvdXJjZSUyMiUyQyUyMnByb3BlcnR5VHlwZSUyMiUzQSUyMmVudW1lcmF0aW9uJTIyJTJDJTIyb3BlcmF0b3IlMjIlM0ElMjJJU19BTllfT0YlMjIlMkMlMjJ2YWx1ZSUyMiUzQSU3QiUyMnByb3BlcnR5VHlwZSUyMiUzQSUyMmVudW1lcmF0aW9uJTIyJTJDJTIyb3BlcmF0b3IlMjIlM0ElMjJJU19BTllfT0YlMjIlMkMlMjJ2YWx1ZXMlMjIlM0ElNUIlMjIyMDI1JTIwLSUyMFN5c3RlbSUyMEZvcndhcmQlMjIlNUQlN0QlN0QlNUQlMkMlMjJkYXRhU291cmNlTmFtZSUyMiUzQSUyMkRFQUwlMjIlN0QlN0QlN0Q%3D"
        },
        { id: "oct-lennox-live-roadshow", title: "Lennox Live Roadshow" },
        { id: "oct-wealthy-plumber", title: "The Wealthy Plumber", url: "https://app-na2.hubspot.com/reports-dashboard/23947290/view/137143993" },
        {
          id: "oct-garage-door-freedom",
          title: "Garage Door Freedom",
          url: "https://app-na2.hubspot.com/reports-dashboard/23947290/view/137261375?appliedIlsFilters=JTdCJTIyMTM3MjYxMzc1JTIyJTNBJTdCJTIyMC0zJTIyJTNBJTdCJTIyZmlsdGVycyUyMiUzQSU1QiU3QiUyMnByb3BlcnR5TmFtZSUyMiUzQSUyMnN1Yl9sZWFkX3NvdXJjZSUyMiUyQyUyMnByb3BlcnR5VHlwZSUyMiUzQSUyMmVudW1lcmF0aW9uJTIyJTJDJTIyb3BlcmF0b3IlMjIlM0ElMjJJU19BTllfT0YlMjIlMkMlMjJ2
